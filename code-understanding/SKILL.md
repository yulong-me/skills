---
name: code-understanding
description: 代码理解和文档生成技能，用于递归分析代码库结构并在每个目录层级生成包含模块概述、详细讲解和文件摘要的README.md文档。当用户需要理解新项目、生成技术文档或进行代码库结构分析时使用此技能。
---

# Code Understanding - 代码理解技能

## Overview

此技能使Claude能够系统性地分析任何代码库，自动生成层级化的技术文档，帮助开发者快速理解项目结构和各模块功能。

## 使用流程

### 第一步：识别使用场景
当用户提出以下请求时，应使用此技能：
- "帮我理解这个代码库"
- "为这个项目生成文档"
- "分析这个代码的结构"
- "我想了解这个项目的架构"
- "为每个目录创建README文件"

### 第二步：准备分析环境
1. 确认目标代码路径
2. 检查是否有权限访问代码文件
3. 备份现有的README文件（如果存在）

### 第三步：执行代码分析
使用 `scripts/code_analyzer.py` 进行递归分析：
```bash
# 分析当前目录
python scripts/code_analyzer.py

# 分析指定路径
python scripts/code_analyzer.py /path/to/codebase

# 预览模式（不实际写入文件）
python scripts/code_analyzer.py --dry-run
```

### 第四步：生成层级文档
脚本会自动在每个目录层级生成包含以下内容的README.md：
- **模块概述**: 目录功能说明和文件统计
- **模块讲解**: 设计思路和架构说明
- **文件摘要**: 每个文件的详细分析

## 核心功能

### 1. 递归目录分析
- 扫描整个代码库的目录结构
- 识别项目类型和架构模式
- 统计各编程语言的使用情况

### 2. 智能文件分析
- 自动识别30+种编程语言
- 提取函数、类、接口定义
- 分析依赖关系和导入语句
- 生成文件描述和功能概述

### 3. 层级化文档生成
- 为每个目录创建自包含的README
- 保持文档的层级关系
- 提供从概览到细节的渐进式理解

### 4. 安全备份机制
- 自动备份现有README文件
- 支持预览模式避免意外覆盖
- 提供详细的分析报告

## 高级用法

### 自定义分析参数
```bash
# 指定输出格式
python scripts/code_analyzer.py --format json

# 详细分析报告
python scripts/code_analyzer.py --verbose
```

### 集成到开发流程
- 在代码review前生成最新文档
- 为新团队成员提供项目概览
- 自动化技术文档维护

## 常见项目支持

### Web前端项目
- React/Vue/Angular应用
- 构建配置和依赖管理
- 组件库和样式文件

### 后端服务
- RESTful API结构
- 数据库模型和迁移
- 微服务架构分析

### 移动应用
- iOS/Android项目结构
- 跨平台框架支持
- 资源文件组织

## 技能资源

### scripts/
包含可执行代码的核心分析工具：

**code_analyzer.py** - 主要的代码分析脚本
- 递归扫描目录结构
- 智能分析30+种编程语言
- 生成层级化README文档
- 支持预览模式和备份机制

### references/
包含文档和参考资料：

**readme_template.md** - README文件的标准模板
**code_analysis_guide.md** - 代码分析指南和最佳实践

### assets/
包含模板和资源文件（当前为空，可根据需要扩展）

## 使用示例

### 示例1：新项目理解
用户："我刚接手了一个React项目，帮我理解一下代码结构"

使用技能：
1. 运行 `python scripts/code_analyzer.py`
2. 生成层级化README文档
3. 用户可以逐层阅读文档了解项目结构

### 示例2：文档生成
用户："为我们的Spring Boot项目生成技术文档"

使用技能：
1. 定位到项目根目录
2. 执行代码分析脚本
3. 在每个模块目录生成对应的README

### 示例3：架构分析
用户："我想了解这个微服务项目的整体架构"

使用技能：
1. 分析项目结构
2. 识别微服务模块
3. 生成包含架构说明的文档

---

**此技能专注于代码理解和文档自动生成，帮助开发者快速掌握任何代码库的结构和功能。**
